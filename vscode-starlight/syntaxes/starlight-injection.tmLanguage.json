{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "Starlight Injection",
    "scopeName": "source.starlight.injection",
    "injectionSelector": "L:source.js, L:source.ts",
    "patterns": [
        {
            "include": "#starlight-methods"
        },
        {
            "include": "#starlight-goals"
        },
        {
            "include": "#starlight-commands"
        }
    ],
    "repository": {
        "starlight-methods": {
            "patterns": [
                {
                    "name": "support.function.starlight",
                    "match": "\\b(clickGoal|fillGoal|selectGoal|hoverGoal|checkGoal|uncheckGoal|scrollToGoal|uploadGoal)\\b"
                },
                {
                    "name": "support.function.starlight",
                    "match": "\\b(click|fill|select|hover|check|uncheck|scrollTo|scrollToBottom|press|type|upload|goto|wait)\\b"
                },
                {
                    "name": "support.class.starlight",
                    "match": "\\b(IntentRunner|SentinelBase|StarlightSDK)\\b"
                }
            ]
        },
        "starlight-goals": {
            "patterns": [
                {
                    "name": "string.semantic-goal.starlight",
                    "match": "goal:\\s*['\"]([^'\"]+)['\"]",
                    "captures": {
                        "1": {
                            "name": "entity.name.tag.semantic-goal.starlight"
                        }
                    }
                }
            ]
        },
        "starlight-commands": {
            "patterns": [
                {
                    "name": "keyword.operator.starlight",
                    "match": "\\b(starlight\\.intent|starlight\\.clear|starlight\\.wait|starlight\\.hijack|starlight\\.resume|starlight\\.pre_check)\\b"
                }
            ]
        }
    }
}